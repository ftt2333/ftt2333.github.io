<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width = device-width, initial-scale = 1.0">
  <title>Ftt2333&#39;s Nest</title>
  <link rel="icon" href="/images/favicon.ico">
  <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <link rel="stylesheet" type="text/css" href="https://cdn.bootcdn.net/ajax/libs/fomantic-ui/2.9.3/semantic.min.css">
  <script src="https://cdn.bootcdn.net/ajax/libs/fomantic-ui/2.9.3/semantic.min.js"></script>
  <link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/prism-themes/1.9.0/prism-vsc-dark-plus.min.css">
  <script src="https://cdn.bootcdn.net/ajax/libs/jquery.pjax/2.0.1/jquery.pjax.min.js"></script>
  <link href="https://cdn.bootcdn.net/ajax/libs/nprogress/0.2.0/nprogress.min.css" rel="stylesheet">
  <script src="https://cdn.bootcdn.net/ajax/libs/nprogress/0.2.0/nprogress.min.js"></script>
  <script src="https://cdn.bootcdn.net/ajax/libs/aplayer/1.10.1/APlayer.min.js"></script>
  <link href="https://cdn.bootcdn.net/ajax/libs/aplayer/1.10.1/APlayer.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/css/main.css">
  <link href="https://cdn.bootcdn.net/ajax/libs/KaTeX/0.16.1/katex.min.css" rel="stylesheet">
  <script src="/js/main.js"></script>
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="dark-mode" onclick="dark_mode()">ğŸŒ“</div>
  <div id="aplayer-content"></div>
  <div id="body">
    <div class="ui-col">
      <div id="header" class="ui-header ui-shadow">
        <div class="ui-row ui-space-between">
  <div>
    <a href="/" style="color: var(--header-col);">Ftt2333&#39;s Nest</a>
  </div>
  <div class="ui-row">
    
    <div class="ui-row-space"></div>
    
      <div class="ui dropdown">
        <div style="color: var(--title-col);">å‹é“¾ <i class="dropdown-icon"></i></div>
        <div class="menu" style="width: max-content;">
          
            <a class="item" target="_blank" rel="noopener" href="https://enucai.github.io/" style="display: flex;">
              
                <img class="image" src="https://cdn.luogu.com.cn/upload/usericon/169574.png">
              
              <div style="flex: 1;"></div>
              <div>Enucai</div>
            </a>
          
            <a class="item" target="_blank" rel="noopener" href="https://cmk666.github.io/" style="display: flex;">
              
                <img class="image" src="https://cdn.luogu.com.cn/upload/usericon/127949.png">
              
              <div style="flex: 1;"></div>
              <div>Cmk666</div>
            </a>
          
            <a class="item" target="_blank" rel="noopener" href="https://cyb1010.github.io/" style="display: flex;">
              
                <img class="image" src="https://cdn.luogu.com.cn/upload/usericon/333119.png">
              
              <div style="flex: 1;"></div>
              <div>Cyb1010</div>
            </a>
          
            <a class="item" target="_blank" rel="noopener" href="https://red-black-tree.github.io/" style="display: flex;">
              
                <img class="image" src="https://cdn.luogu.com.cn/upload/usericon/173951.png">
              
              <div style="flex: 1;"></div>
              <div>Rbtree</div>
            </a>
          
            <a class="item" target="_blank" rel="noopener" href="https://zhouershan.github.io/" style="display: flex;">
              
                <img class="image" src="https://cdn.luogu.com.cn/upload/usericon/615348.png">
              
              <div style="flex: 1;"></div>
              <div>Zhouershan</div>
            </a>
          
        </div>
      </div>
    
    <div class="ui-row-space"></div>
    
      <a href="/archives/" style="color: var(--header-col); margin: 2px;">
        å½’æ¡£
      </a>
    
    <div class="ui-row-space"></div>
    
      <a href="/categories/" style="color: var(--header-col); margin: 2px;">
        åˆ†ç±»
      </a>
    
    <div class="ui-row-space"></div>
    
      <a href="/tags/" style="color: var(--header-col); margin: 2px;">
        æ ‡ç­¾
      </a>
    
  </div>
</div>
      </div>
      <div style="height: 110px;"></div>
      <div class="ui-col" style="height: max-content;">
        <div class="ui-content">
          <div class="ui-max-width ui-card ui-shadow">
  <div>
    <div class="ui-padding ui-col">
<h1>Archlinux å®‰è£…æ–¹æ³•</h1>
<p>åˆ›å»ºäº 2024-07-07</p>

<p>
  Tags:
  
  <a href="/tags/æ‘¸é±¼/">æ‘¸é±¼</a>
  
</p>


<p>
  Categories:
  
  <a href="/categories/æ‘¸é±¼/">æ‘¸é±¼</a>
  
</p>

</div>
  </div>
  <div class="ui-padding">
    <h2>Archlinux å®‰è£…æ–¹æ³•</h2>
<p>å…ˆä» <a target="_blank" rel="noopener" href="https://mirrors.ustc.edu.cn">mirrors.ustc.edu.cn</a> ä¸‹è½½archlinuxå®‰è£…é•œåƒã€‚</p>
<p>ç„¶åä¸‹è½½åˆ»å½•å·¥å…· Etcherã€‚</p>
<p>Windowsç‰ˆï¼š<a target="_blank" rel="noopener" href="https://download.fastgit.org/balena-io/etcher/releases/download/v1.5.115/balenaEtcher-Setup-1.5.115.exe?d_id=a9248b4b-2ec1-4470-926f-4dde01337cf5R">Windowsç‰ˆ</a><br>
Linuxç‰ˆï¼š<a target="_blank" rel="noopener" href="https://download.fastgit.org/balena-io/etcher/releases/download/v1.5.115/balena-etcher-electron-1.5.115-linux-x64.zip?d_id=a9248b4b-2ec1-4470-926f-4dde01337cf5R">Linuxç‰ˆ</a><br>
Macç‰ˆï¼š<a target="_blank" rel="noopener" href="https://download.fastgit.org/balena-io/etcher/releases/download/v1.5.115/balenaEtcher-1.5.115.dmg?d_id=a9248b4b-2ec1-4470-926f-4dde01337cf5R">Macç‰ˆ</a></p>
<p>ç„¶åä½¿ç”¨ Etcher æŠŠé•œåƒåˆ»å½•åˆ° U ç›˜é‡Œã€‚<br>
ç„¶åé‡å¯ï¼Œä½¿ç”¨uç›˜å¯åŠ¨ã€‚<br>
å¯åŠ¨å®Œä¹‹åæ‰§è¡Œã€‚</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">ls</span> /sys/firmware/efi/efivars<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>å¦‚æœæç¤ºç›®å½•ä¸å­˜åœ¨ï¼Œå°±æ˜¯ BIOSï¼Œå¦åˆ™æ˜¯ UEFIã€‚</p>
<h3>UEFI ç‰ˆå®‰è£…</h3>
<h4>1. å…ˆè”ç½‘ï¼š</h4>
<p>å¦‚æœä½ ç”¨çš„æ˜¯æœ‰çº¿ç½‘ï¼Œå¯ä»¥è·³è¿‡ã€‚</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">iwctl<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">device list<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ä»¥ä¸‹æ˜¾ç¤ºçš„æ˜¯æˆ‘çš„æ— çº¿ç½‘å¡ï¼Œæˆ‘çš„å« <code>wlan0</code>ã€‚</p>
<pre class="line-numbers language-none"><code class="language-none">                                    Devices                                   *
--------------------------------------------------------------------------------
  Name                Address             Powered   Adapter   Mode      
--------------------------------------------------------------------------------
  wlan0               d0:ab:d5:c0:08:00   on        phy0      station   
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ‰§è¡Œï¼š</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">station <span class="token operator">&lt;</span>ä½ çš„æ— çº¿ç½‘å¡çš„åç§°<span class="token operator">></span> scan<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">station <span class="token operator">&lt;</span>ä½ çš„æ— çº¿ç½‘å¡çš„åç§°<span class="token operator">></span> get-networks<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ç„¶åä»–ä¼šæ˜¾ç¤ºè¿™æ ·çš„ç»“æœï¼š</p>
<pre class="line-numbers language-none"><code class="language-none">                               Available networks                             *
--------------------------------------------------------------------------------
    Network name                    Security          Signal
--------------------------------------------------------------------------------
           xxx                                  psk                    ****<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å…¶ä¸­ xxx æ˜¯ç½‘ç»œåç§°</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">station <span class="token operator">&lt;</span>ä½ çš„æ— çº¿ç½‘å¡çš„åç§°<span class="token operator">></span> connect <span class="token operator">&lt;</span>ç½‘ç»œåç§°<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>æ¥ä¸‹æ¥ä»–ä¼šè®©ä½ è¾“å…¥ WiFi å¯†ç ï¼Œç„¶åå† <code>exit</code> å°±è¿å¥½ç½‘äº†ã€‚</p>
<h4>2. åˆ†åŒº</h4>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">lsblk<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ç„¶åä¼šæ˜¾ç¤ºä»¥ä¸‹ç»“æœï¼š</p>
<pre class="line-numbers language-none"><code class="language-none">NAME        MAJ:MIN RM   SIZE RO TYPE MOUNTPOINTS
nvme0n1     259:0    0 476.9G  0 disk 
â”œâ”€nvme0n1p1 259:1    0     1G  0 part 
â”œâ”€nvme0n1p2 259:2    0    16G  0 part 
â””â”€nvme0n1p3 259:3    0 459.9G  0 part <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ‰¾åˆ°è¦å®‰è£…çš„ç¡¬ç›˜ï¼Œæˆ‘çš„æ˜¯ <code>nvme0n1</code>ã€‚</p>
<p>ç„¶åæ‰§è¡Œï¼š</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">cfdisk</span> /dev/<span class="token operator">&lt;</span>ç¡¬ç›˜åç§°<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>å¦‚æœæç¤ºä½ è¦é€‰ <code>MBR</code> è¿˜æ˜¯ <code>GPT</code>ï¼Œé€‰æ‹©<code>GPT</code>ã€‚</p>
<p>æ¥ä¸‹æ¥åˆ†åŒºï¼Œç”±äºè¾ƒå¥½æ“ä½œï¼Œå°±ä¸è®²å¦‚ä½•æ“ä½œäº†ï¼Œä½†æ˜¯è®°ä½åˆ†å®ŒåŒºä¸€å®šè¦ <code>write</code> ï¼Œä¸ç„¶å°±æ²¡ç”¨ã€‚</p>
<p>è¦åˆ†æˆå¦‚ä¸‹çš„æ ·å­ï¼š</p>
<table>
<thead>
<tr>
<th>ç”¨é€”</th>
<th>ç±»å‹</th>
<th>å¤§å°</th>
</tr>
</thead>
<tbody>
<tr>
<td>æŒ‚è½½åœ¨/mnt/boot</td>
<td>efi system</td>
<td>è‡³å°‘260MB</td>
</tr>
<tr>
<td>äº¤æ¢åˆ†åŒºï¼Œç›¸å½“äºæ›´å¤šçš„å†…å­˜</td>
<td>linux swap</td>
<td>è‡³å°‘512MB</td>
</tr>
<tr>
<td>æŒ‚è½½åœ¨/mnt</td>
<td>linux filesystem</td>
<td>å‰©ä½™çš„ç©ºé—´ï¼Œå»ºè®®åœ¨30GBä»¥ä¸Š</td>
</tr>
</tbody>
</table>
<p>å¹¶è®°ä½è¿™ä¸‰ä¸ªåˆ†åŒºçš„ç¼–å·ï¼Œæ¯”å¦‚è¯´æˆ‘çš„ä¾æ¬¡æ˜¯ <code>/dev/nvme0n1p1</code>ï¼Œ<code>/dev/nvme0n1p2</code>ï¼Œ<code>/dev/nvme0n1p3</code>ã€‚</p>
<p>ç„¶åæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">mkfs.ext4 /dev/nvme0n1p3
mkfs.fat <span class="token parameter variable">-F32</span> /dev/nvme0n1p1
<span class="token function">mkswap</span> /dev/nvme0n1p2
<span class="token function">swapon</span> /dev/nvme0n1p2
<span class="token function">mount</span> /dev/nvme0n1p3 /mnt
<span class="token function">mkdir</span> /mnt/boot
<span class="token function">mount</span> /dev/nvme0n1p1 /mnt/boot<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>è¯·è‡ªè¡ŒæŠŠ <code>/dev/nvme0n1p1</code>ã€<code>/dev/nvme0n1p2</code>ã€<code>/dev/nvme0n1p3</code> æ¢æˆä½ è‡ªå·±çš„åˆ†åŒºã€‚</p>
<h4>3. æ¢æº</h4>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">vim</span> /etc/pacman.d/mirrorlist<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>åœ¨å¼€å¤´åŠ ä¸Šï¼š</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">Server <span class="token operator">=</span> https://mirrors.ustc.edu.cn/archlinux/<span class="token variable">$repo</span>/os/<span class="token variable">$arch</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h4>4. å®‰è£…ç³»ç»Ÿ</h4>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">pacstrap /mnt base linux linux-firmware
genfstab <span class="token parameter variable">-U</span> /mnt <span class="token operator">>></span> /mnt/etc/fstab<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>æ­¤æ—¶ç³»ç»Ÿå·²ç»å®‰è£…å¥½äº†ï¼Œä½†æ˜¯å› ä¸ºæ²¡æœ‰é…ç½®è¿‡ï¼Œè¿˜æ— æ³•ä½¿ç”¨ã€‚</p>
<h4>5. è®¾ç½®ç³»ç»Ÿ</h4>
<h5>å…ˆæ¢æ ¹ï¼Œä¹Ÿå°±æ˜¯è¿›å…¥åˆ°å®‰è£…åœ¨ç¡¬ç›˜é‡Œçš„ç³»ç»Ÿ</h5>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">arch-chroot /mnt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h5>å®‰è£…å¿…è¦è½¯ä»¶</h5>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">pacman <span class="token parameter variable">-S</span> grub efibootmgr <span class="token function">vim</span> iwd dhcpcd <span class="token function">sudo</span> networkmanager
systemctl <span class="token builtin class-name">enable</span> dhcpcd NetworkManager iwd<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h5>è®¾ç½®rootå¯†ç </h5>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">passwd</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ç„¶åè®¾ç½®ä½ çš„å¯†ç ã€‚</p>
<h5>æ–°å¢ç”¨æˆ·</h5>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">useradd</span> <span class="token parameter variable">-m</span> <span class="token parameter variable">-G</span> wheel <span class="token operator">&lt;</span>ç”¨æˆ·å<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>è®¾ç½®å¯†ç ï¼š</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">passwd</span> <span class="token operator">&lt;</span>ç”¨æˆ·å<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>åŠ å…¥ <code>sudo</code>ã€‚</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token assign-left variable">EDITOR</span><span class="token operator">=</span>vim visudo<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>æ‰¾åˆ° <code>%wheel ALL=(ALL) ALL</code> æŠŠå‰é¢çš„æ³¨é‡Šå»æ‰</p>
<h5>å®‰è£…grubå¼•å¯¼</h5>
<h6>è®©grubè¯†åˆ«åˆ«çš„ç³»ç»Ÿ</h6>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">/etc/default/grub<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>åŠ å…¥ï¼š</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token assign-left variable">GRUB_DISABLE_OS_PROBER</span><span class="token operator">=</span>false<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h6>å®‰è£…å¼•å¯¼</h6>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">grub-install <span class="token parameter variable">--target</span><span class="token operator">=</span>x86_64-efi --efi-directory<span class="token operator">=</span>/boot --bootloader-id<span class="token operator">=</span><span class="token operator">&lt;</span>ä½ æƒ³è¦åœ¨efiå¼•å¯¼æ—¶æ˜¾ç¤ºçš„åå­—ï¼Œå»ºè®®ä¸ºArchLinux<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">grub-mkconfig</span> <span class="token parameter variable">-o</span> /boot/grub/grub.cfg<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h5>è®¾ç½®è¯­è¨€</h5>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">vim</span> /etc/locale.gen<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>æŠŠé‡Œé¢çš„<code>en_US.UTF-8</code>å’Œ<code>zh_CN.UTF-8</code>å‰æ³¨é‡Šå»æ‰</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">locale-gen<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h5>å®‰è£…å›¾å½¢ç•Œé¢</h5>
<p>è¿™é‡Œä»¥gnomeä¸ºä¾‹</p>
<h6>å®‰è£…gnomeï¼Œgdmå’Œä¸­æ–‡å­—ä½“</h6>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">pacman <span class="token parameter variable">-S</span> gnome gdm wqy-microhei<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h6>è®¾ç½®å›¾å½¢ç•Œé¢çš„ä¸­æ–‡ï¼Œè¿™ä¸€æ­¥å¿…é¡»è¦åŠ ï¼Œä¸ç„¶çš„è¯ä¼šæ‰“ä¸å¼€gnomeçš„ç»ˆç«¯</h6>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">vim</span> /etc/locale.conf<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>åœ¨é‡Œé¢åŠ å…¥</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token assign-left variable"><span class="token environment constant">LANG</span></span><span class="token operator">=</span>zh_CN.UTF-8<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h6>è®¾ç½®å¼€æœºè¿›å…¥å›¾å½¢ç•Œé¢</h6>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">systemctl <span class="token builtin class-name">enable</span> gdm<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h5>é€€å‡ºæ¢æ ¹å¹¶é‡å¯</h5>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">exit</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">reboot</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3>BIOSç‰ˆå®‰è£…</h3>
<h4>1. å…ˆè”ç½‘ï¼š</h4>
<p>å¦‚æœä½ ç”¨çš„æ˜¯æœ‰çº¿ç½‘ï¼Œå¯ä»¥è·³è¿‡</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">iwctl<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">device list<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ä»¥ä¸‹æ˜¾ç¤ºçš„æ˜¯æˆ‘çš„æ— çº¿ç½‘å¡ï¼Œæˆ‘çš„å«<code>wlan0</code></p>
<pre class="line-numbers language-none"><code class="language-none">                                    Devices                                   *
--------------------------------------------------------------------------------
  Name                Address             Powered   Adapter   Mode      
--------------------------------------------------------------------------------
  wlan0               d0:ab:d5:c0:08:00   on        phy0      station   
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">station <span class="token operator">&lt;</span>ä½ çš„æ— çº¿ç½‘å¡çš„åç§°<span class="token operator">></span> scan<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">station <span class="token operator">&lt;</span>ä½ çš„æ— çº¿ç½‘å¡çš„åç§°<span class="token operator">></span> get-networks<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ç„¶åä»–ä¼šæ˜¾ç¤ºè¿™æ ·çš„ç»“æœ</p>
<pre class="line-numbers language-none"><code class="language-none">                               Available networks                             *
--------------------------------------------------------------------------------
    Network name                    Security          Signal
--------------------------------------------------------------------------------
           xxx                                  psk                    ****
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å…¶ä¸­xxxæ˜¯ç½‘ç»œåç§°</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">station <span class="token operator">&lt;</span>ä½ çš„æ— çº¿ç½‘å¡çš„åç§°<span class="token operator">></span> connect <span class="token operator">&lt;</span>ç½‘ç»œåç§°<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>æ¥ä¸‹æ¥ä»–ä¼šè®©ä½ è¾“å…¥wifiå¯†ç ï¼Œç„¶åå†<code>exit</code>å°±è¿å¥½ç½‘äº†</p>
<h4>2. åˆ†åŒº</h4>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">lsblk<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ç„¶åä¼šæ˜¾ç¤ºä»¥ä¸‹ç»“æœ</p>
<pre class="line-numbers language-none"><code class="language-none">NAME        MAJ:MIN RM   SIZE RO TYPE MOUNTPOINTS
vda     259:0    0 476.9G  0 disk 
â”œâ”€vda1 259:2    0    16G  0 part 
â””â”€vda2 259:3    0 459.9G  0 part 
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ‰¾åˆ°è¦å®‰è£…çš„ç¡¬ç›˜ï¼Œæˆ‘çš„æ˜¯<code>vda</code></p>
<p>ç„¶åæ‰§è¡Œ</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">cfdisk</span> /dev/<span class="token operator">&lt;</span>ç¡¬ç›˜åç§°<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>å¦‚æœæç¤ºä½ è¦é€‰<code>MBR</code>è¿˜æ˜¯<code>GPT</code>é€‰æ‹©<code>GPT</code></p>
<p>æ¥ä¸‹æ¥åˆ†åŒºï¼Œç”±äºè¾ƒå¥½æ“ä½œï¼Œå°±ä¸è®²å¦‚ä½•æ“ä½œäº†ï¼Œä½†æ˜¯è®°ä½åˆ†å®ŒåŒºä¸€å®šè¦writeï¼Œä¸ç„¶å°±æ²¡ç”¨</p>
<p>è¦åˆ†æˆå¦‚ä¸‹çš„æ ·å­ï¼š</p>
<table>
<thead>
<tr>
<th>ç”¨é€”</th>
<th>ç±»å‹</th>
<th>å¤§å°</th>
</tr>
</thead>
<tbody>
<tr>
<td>äº¤æ¢åˆ†åŒºï¼Œç›¸å½“äºæ›´å¤šçš„å†…å­˜</td>
<td>linux swap</td>
<td>è‡³å°‘512MB</td>
</tr>
<tr>
<td>æŒ‚è½½åœ¨/mnt</td>
<td>linux filesystem</td>
<td>å‰©ä½™çš„ç©ºé—´ï¼Œå»ºè®®åœ¨30GBä»¥ä¸Š</td>
</tr>
</tbody>
</table>
<p>å¹¶è®°ä½è¿™ä¸¤ä¸ªåˆ†åŒºçš„ç¼–å·ï¼Œæ¯”å¦‚è¯´æˆ‘çš„ä¾æ¬¡æ˜¯<code>/dev/vda1</code>,<code>/dev/vda2</code></p>
<p>ç„¶åæ‰§è¡Œä»¥ä¸‹å‘½ä»¤</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">mkfs.ext4 /dev/vda2<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">mkswap</span> /dev/vda1<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">swapon</span> /dev/vda1<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">mount</span> /dev/vda2 /mnt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>è¯·è‡ªè¡ŒæŠŠ<code>/dev/vda1</code>,<code>/dev/vda2</code>æ¢æˆä½ è‡ªå·±çš„åˆ†åŒº</p>
<h4>3. æ¢æº</h4>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">vim</span> /etc/pacman.d/mirrorlist<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>åœ¨å¼€å¤´åŠ ä¸Š</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">Server <span class="token operator">=</span> https://mirrors.ustc.edu.cn/archlinux/<span class="token variable">$repo</span>/os/<span class="token variable">$arch</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h4>4. å®‰è£…ç³»ç»Ÿ</h4>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">pacstrap /mnt base linux linux-firmware<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">genfstab <span class="token parameter variable">-U</span> /mnt <span class="token operator">>></span> /mnt/etc/fstab<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>æ­¤æ—¶ç³»ç»Ÿå·²ç»å®‰è£…å¥½äº†ï¼Œä½†æ˜¯å› ä¸ºæ²¡æœ‰é…ç½®è¿‡ï¼Œè¿˜æ— æ³•ä½¿ç”¨</p>
<h4>5. è®¾ç½®ç³»ç»Ÿ</h4>
<h5>å…ˆæ¢æ ¹ï¼Œä¹Ÿå°±æ˜¯è¿›å…¥åˆ°å®‰è£…åœ¨ç¡¬ç›˜é‡Œçš„ç³»ç»Ÿ</h5>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">arch-chroot /mnt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h5>å®‰è£…å¿…è¦è½¯ä»¶</h5>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">pacman <span class="token parameter variable">-S</span> grub <span class="token function">vim</span> iwd dhcpcd <span class="token function">sudo</span> networkmanager<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">systemctl <span class="token builtin class-name">enable</span> dhcpcd NetworkManager iwd<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h5>è®¾ç½®rootå¯†ç </h5>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">passwd</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ç„¶åè®¾ç½®ä½ çš„å¯†ç </p>
<h5>æ–°å¢ç”¨æˆ·</h5>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">useradd</span> <span class="token parameter variable">-m</span> <span class="token parameter variable">-G</span> wheel <span class="token operator">&lt;</span>ç”¨æˆ·å<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>è®¾ç½®å¯†ç </p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">passwd</span> <span class="token operator">&lt;</span>ç”¨æˆ·å<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>åŠ å…¥<code>sudo</code></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token assign-left variable">EDITOR</span><span class="token operator">=</span>vim visudo<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>æ‰¾åˆ°<code>%wheel ALL=(ALL) ALL </code>æŠŠå‰é¢çš„æ³¨é‡Šå»æ‰</p>
<h5>å®‰è£…grubå¼•å¯¼</h5>
<h6>è®©grubè¯†åˆ«åˆ«çš„ç³»ç»Ÿ</h6>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">/etc/default/grub<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>åŠ å…¥</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token assign-left variable">GRUB_DISABLE_OS_PROBER</span><span class="token operator">=</span>false<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h6>å®‰è£…å¼•å¯¼</h6>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">grub-install <span class="token parameter variable">--target</span><span class="token operator">=</span>i386-pc /dev/vda<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>å…¶ä¸­<code>/dev/nvme0n1p2</code>æ˜¯æ­¥éª¤<code>(2)</code>ä¸­çš„åˆ†åŒºï¼Œè¯·è‡ªè¡Œæ›¿æ¢</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">grub-mkconfig</span> <span class="token parameter variable">-o</span> /boot/grub/grub.cfg<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h5></h5>
<h5>è®¾ç½®è¯­è¨€</h5>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">vim</span> /etc/locale.gen<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>æŠŠé‡Œé¢çš„<code>en_US.UTF-8</code>å’Œ<code>zh_CN.UTF-8</code>å‰æ³¨é‡Šå»æ‰</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">locale-gen<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h5>å®‰è£…å›¾å½¢ç•Œé¢</h5>
<p>è¿™é‡Œä»¥gnomeä¸ºä¾‹</p>
<h6>å®‰è£…gnomeï¼Œgdmå’Œä¸­æ–‡å­—ä½“</h6>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">pacman <span class="token parameter variable">-S</span> gnome gdm wqy-microhei<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h6>è®¾ç½®å›¾å½¢ç•Œé¢çš„ä¸­æ–‡ï¼Œè¿™ä¸€æ­¥å¿…é¡»è¦åŠ ï¼Œä¸ç„¶çš„è¯ä¼šæ‰“ä¸å¼€gnomeçš„ç»ˆç«¯</h6>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">vim</span> /etc/locale.conf<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>åœ¨é‡Œé¢åŠ å…¥</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token assign-left variable"><span class="token environment constant">LANG</span></span><span class="token operator">=</span>zh_CN.UTF-8<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h6>è®¾ç½®å¼€æœºè¿›å…¥å›¾å½¢ç•Œé¢</h6>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">systemctl <span class="token builtin class-name">enable</span> gdm<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h5>é€€å‡ºæ¢æ ¹å¹¶é‡å¯</h5>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">exit</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">reboot</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

    <div id="comment" style="margin: auto;"></div>








  </div>
</div>
        </div>
        <div class="ui-col-space-mid"></div>
        <div>
          <div class="ui-col">
  <p style="color: var(--footer-col); padding: 20px 30px;">
    Powered by <a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/">Hexo</a>,
    theme by <a target="_blank" rel="noopener" href="https://github.com/ftt2333/hexo-theme-facter">Facter</a>
  </p>
</div>
        </div>
        <div class="ui-col-space-mid"></div>
      </div>
    </div>
  </div>
</body>

</html>